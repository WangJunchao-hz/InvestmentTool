(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/assets/index"],{"0685":function(t,e,n){"use strict";n.r(e);var i=n("e7b8"),u=n("d221");for(var a in u)"default"!==a&&function(t){n.d(e,t,(function(){return u[t]}))}(a);var s,o=n("f0c5"),l=Object(o["a"])(u["default"],i["b"],i["c"],!1,null,"49c413a8",null,!1,i["a"],s);e["default"]=l.exports},7909:function(t,e,n){"use strict";(function(t){n("2c9b");i(n("66fd"));var e=i(n("0685"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},d221:function(t,e,n){"use strict";n.r(e);var i=n("ef5a"),u=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=u.a},e7b8:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var i={uniGroup:function(){return n.e("uni_modules/uni-group/components/uni-group/uni-group").then(n.bind(null,"882a"))},uniList:function(){return n.e("uni_modules/uni-list/components/uni-list/uni-list").then(n.bind(null,"7a2d"))},uniListItem:function(){return n.e("uni_modules/uni-list/components/uni-list-item/uni-list-item").then(n.bind(null,"4ea7"))},uniFab:function(){return n.e("uni_modules/uni-fab/components/uni-fab/uni-fab").then(n.bind(null,"23fc4"))}},u=function(){var t=this,e=t.$createElement;t._self._c},a=[]},ef5a:function(t,e,n){"use strict";(function(t,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=t.database(),u=i.command,a="account",s={data:function(){return{userId:"",total:0,fixedAsset:0,floatAsset:0,liabilities:0,accountLists:[]}},onLoad:function(){this.userId=getApp().globalData.userId},onShow:function(){this.getAccountLists()},methods:{getAccountLists:function(){var t=this;i.collection(a).where({userId:u.eq(this.userId)}).orderBy("updateDate desc").get().then((function(e){if(e.result.data.length){t.accountLists=[],t.total=0,t.fixedAsset=0,t.floatAsset=0,t.liabilities=0;var n=new Map;e.result.data.forEach((function(e){var i=n.get(e.type.field);if(i)i.total=t.$NP.plus(i.total,e.amount),i.children.push(e);else{var u={id:e.type._id,name:e.type.name,field:e.type.field,total:e.amount,children:[e]};n.set(e.type.field,u)}switch(e.type.relationType){case"fixedAsset":t.fixedAsset=t.$NP.plus(t.fixedAsset,e.amount);break;case"floatAsset":t.floatAsset=t.$NP.plus(t.floatAsset,e.amount);break;case"liabilities":t.liabilities=t.$NP.plus(t.liabilities,e.amount);break}var a=t.$NP.plus(t.fixedAsset,t.floatAsset);t.total=t.$NP.minus(a,t.liabilities)})),n.forEach((function(e){t.accountLists.push(e)}))}}))},fabClick:function(){n.navigateTo({url:"/pages/assets/add"})}}};e.default=s}).call(this,n("a9ff")["default"],n("543d")["default"])}},[["7909","common/runtime","common/vendor"]]]);